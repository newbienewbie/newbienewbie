---
layout: post
title: 操作系统笔记 硬件基础——总线结构
date: 2017-10-26 15:15:40
tags:
- 操作系统
- 硬件基础
- 总线结构
categories:
- 大道
- 操作系统
- 硬件基础
---

计算机系统的硬件部分以总线方式进行互联，以实现部件和设备的扩充。

一种多总线结构示意图：

```
// 总线结构
                  高速缓存总线           局部总线                          内存总线
                       |                   |                                |
                       |                   |                                |
    +---------------+  | +-----------+     |    +------------+              |             +----------------+
    |     二   级   +--+-->           +-----+---->           +--------------+------------->                 |
    |高 速  缓  存  |     |    CPU    |          |   PCI桥    |                            |  主  存  储  器 |
    |              <-----+           <----------+            <----------------------------+                 |
    +--------------+     +-----------+          +------^-----+                            +----------------+
                                                      |-|
                                                      |-|
                                                      |-|
                                                      |-|
                                                      |-|
                                                      |-|                        PCI 总 线
    +----------------------------------------------------------------------------------------------------+
    +----------------------------------------------------------------------------------------------------+
      | |                | |                          |-|                                  ||
      | |                | |                          |-|                                  ||
      | |                | |                          |-|                                  ||
  +---+-+---+        +---+-+---+                      |-|                             +---------------+
  |  SCSI   |        |   USB   |                      |-|                             |图 形 适 配 器  |
  +----+----+        +----+----+                      |-|                             +---------------+
       |                  |                           |-|
       v  SCSI总线        v       USB总线        +------------+ IDE总线+------------+
+------------+     <--+---+------+-->           |            +--------+            |
+------------+        |          |              |    ISA桥   <-------->   IDE硬盘  |
                      |          |              |            +--------+            |
                      |          |              +------------+        +------------+
                  +---+---+  +---+-----+              |-|
                  | mouse |  |keyboard |              |-|
                  +-------+  +---------+              |-|
                                                      |-|
                                                      |-|
                                                      |-|                        ISA 总 线
+----------------------------------------------------------------------------------------------------------+
+----------------------------------------------------------------------------------------------------------+
     | |                     | |                               | |
     | |                     | |                               | |
  +--+-+--+             +----+-+-----+                    +----+-+------+
  | 声卡  |             |   打 印 机  |                    |调 制 解 调 器|
  +-------+             +------------+                    +-------------+
```

在这种总线结构中，CPU内部有个一级高速缓存；CPU之外有个二级缓存通过高速缓存总线与CPU相连。CPU通过局部总线与PCI桥芯片对话，PCI桥芯片通过专门的存储总线与存储器对话。

<!-- more -->

总线分类：
1. 内部总线：用于芯片一级的互联，分为芯片内总线和元件级总线。
2. 系统总线：又称为内部总线，用于插件板一级的互联。
3. 外部总线：又称为通信总线，用于设备一级的互联。

系统总线：典型的有ISA总线（工业标准总线，Industry Standard Architecture）、PCI总线（外网组件互联总线，Peripheral Component Interconnect）。

外部总线有很多：
1. RS232C：串行，在工控行业应用较多。
2. SCSI : 小型计算机接口，一种高速的并行外总线。用于扫描仪、高速影盘等需要高带宽的设备上。
3. USB：通用串行总线。将慢速I/O设备与计算机相连。
4. 其他 

